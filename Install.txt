

VMware Virtual Machine Sizing.

Controller
vCPU = 4
RAM = 64
DISK = 2 x 500GB Thin Provisioning

Lab Setup

DOMAIN = lab.local

IP Definitions for the LAB

Gateway 192.168.0.254
Netmask 255.255.255.0
DNS 192.168.0.254

Controller IP 192.168.0.10/24 
Gateway IP 192.168.0.11

Linux Setup

CentOS 7.9 

Partitions

/var = 150GB
/srv = 100GB
/opt = 150GB
/ = all of rest space in disk

Linux Setup

# yum update
# yum upgrade
# echo "umask 0022" >> /etc/profile
# sed -i 's/SELINUX=enforcing/SELINUX=permissive/g' /etc/selinux/config

# cd /root
# mkdir .ssh
# ssh-keygen -b 2048 -t rsa -f /root/.ssh/id_rsa -q -N ""
# cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys 

# mount -t nfs 192.168.0.50:labfiles /mnt
# cp /mnt/hpe* .


*****************************************************************

Run precheck program, and note about some issue to fix, the expeted result is like the follow sample:

[root@controller ~]# ./hpe-cp-prechecks-rhel-5.4.1.bin

Pre-install checks for HPE Ezmeral Container Platform 5.4.1


Hardware properties
        Checking CPU count: PASSED.
        Checking memory capacity: PASSED.
        Checking number of disks available: PASSED.
  Total: 3  --  Failed: 0  --  Warning: 0  --  Forced(success): 0



Network port availability
        Checking ss availability: PASSED.
        Checking apache http access port: PASSED.
        Checking apache http access port for epic-nagios: PASSED.
        Checking apache https access port: PASSED.
        Checking apache https access port for epic-nagios: PASSED.
        Checking erlang epmd port: PASSED.
        Checking bd_mgmt rest api port: PASSED.
        Checking haproxy stats: PASSED.
        Checking erlang rpc ports: PASSED.
        Checking erlang ssh-rpc port: PASSED.
        Checking nrpe access port: PASSED.
        Checking nrpe access port for epic-nagios: PASSED.
        Checking kerberos udp ports: PASSED.
        Checking kerberos tcp ports: PASSED.
        Checking HTTPFS ports: PASSED.
        Checking HDFS Ports: PASSED.
        Checking PCSD Daemon port: PASSED.
        Checking Cluster Manager port: PASSED.
        Checking Monitoring ports: PASSED.
        Checking VxLAN tunnel port: PASSED.
        Checking K8S-Calico BGP: PASSED.
        Checking K8S-Calico Typha: PASSED.
        Checking K8S-Kubernetes API server: PASSED.
        Checking K8S-etcd server client API: PASSED.
        Checking K8S-Kubelet API: PASSED.
        Checking K8S-Kubernetes Scheduler: PASSED.
        Checking K8S-Kubernetes Controller Manager: PASSED.
        Checking InfoSight Aggregator: PASSED.
        Checking EPIC VXLAN port: PASSED.
        Checking Web UI port: PASSED.
  Total: 30  --  Failed: 0  --  Warning: 0  --  Forced(success): 0


Network configuration
        Checking primary IP address: PASSED.
                Using ens192:192.168.0.10 as primary interface
        Checking FQDN of the host: PASSED.
        Checking default gateway settings: PASSED.
        Checking Proxy setting: PASSED.
        Checking internet access: PASSED.
  Total: 5  --  Failed: 0  --  Warning: 0  --  Forced(success): 0


Operating system configuration
        Checking OS type: PASSED.
        Checking OS Family: PASSED.
        Checking running kernel version: PASSED.
        Checking CONFIG_SECCOMP enabled in kernel: PASSED.
        Checking compatible DOCKER version for install: PASSED.
        Checking SELinux enforcement: PASSED.
        Checking IPtables/Firewalld configuration: PASSED.
        Checking automount configuration: PASSED.
        Checking SSHD configuration: PASSED.
        Checking rsyslog setting: PASSED.
        Checking user and group specified: PASSED.
        Checking dnsmasq user and group specified: PASSED.
        Checking for krb5.keytab: PASSED.
        Checking cgconfig kernel params: PASSED.
        Checking compatible python version: os-tests: Checking python version for os version centos 7
PASSED.
        Checking Checking for presence of erlang cookie: PASSED.
        Checking /tmp Mount Status: PASSED.
  Total: 17  --  Failed: 0  --  Warning: 0  --  Forced(success): 0

Filesystem free space checks.
        Checking freespace on /: PASSED.
        Checking freespace on /srv: PASSED.
        Checking freespace on /var: PASSED.
        Checking freespace on /opt: PASSED.
        Checking configured swap size: PASSED.
        Checking docker storage: PASSED.
  Total: 6  --  Failed: 0  --  Warning: 0  --  Forced(success): 0

***************************************************************************
Aggregate tests summary:
             Total : 61
            Failed : 0
           Warning : 0
   Forced(success) : 0
Additional information for debugging is written to /tmp/bd_prechecks.10358.log
***************************************************************************








